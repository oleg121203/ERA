# ERA - Enhanced Refactoring Assistant

## üìã –ó–º—ñ—Å—Ç
- [–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è](#–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è)
- [–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è](#–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)
- [–ë–∞–∑–æ–≤–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è](#–±–∞–∑–æ–≤–µ-–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)
- [–†–æ–∑—à–∏—Ä–µ–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ](#—Ä–æ–∑—à–∏—Ä–µ–Ω—ñ-–º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ)
- [–ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è](#–ø—Ä–∏–∫–ª–∞–¥–∏-–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)
- [–£—Å—É–Ω–µ–Ω–Ω—è –Ω–µ—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π](#—É—Å—É–Ω–µ–Ω–Ω—è-–Ω–µ—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π)

## üöÄ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:
```sh
git clone https://github.com/yourusername/ERA.git
cd ERA
```

2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
```sh
npm install
```

3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å Dev Container:
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –≤ VSCode.
   - –ü—ñ—Å–ª—è –∑–∞–ø–∏—Ç—É, –≤–∏–±–µ—Ä—ñ—Ç—å `Reopen in Container`.

4. –ì–ª–æ–±–∞–ª—å–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ñ–≤:
```sh
yarn global add prettier eslint typescript
```

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

1. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env`:
```env
GEMINI_API_KEY=your_api_key_here
DEBUG=false                  # –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è
MAX_TOKENS=2048             # –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –æ–±–º–µ–∂–µ–Ω–Ω—è —Ä–æ–∑–º—ñ—Ä—É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
```

2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
```sh
node src/main.js verify
```

## üìò –ë–∞–∑–æ–≤–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ê–Ω–∞–ª—ñ–∑ –∫–æ–¥—É

```sh
# –ë–∞–∑–æ–≤–∏–π –∞–Ω–∞–ª—ñ–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó
node src/main.js analyze ./src

# –†–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –∞–Ω–∞–ª—ñ–∑
node src/main.js analyze ./src --recursive

# –ê–Ω–∞–ª—ñ–∑ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è–º
node src/main.js analyze ./src --fix=75 --auto-apply
```

### –†–æ–∑—à–∏—Ä–µ–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –∫–æ–¥—É

```bash
# –ü–æ–≤–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –ø—Ä–æ–µ–∫—Ç—É –∑ –º–µ—Ç—Ä–∏–∫–∞–º–∏
node src/main.js analyze ./src --recursive \
  --types=--security:confidence=90:impact=80:priority=85,\
  --perf:confidence=85:impact=75:priority=80,\
  --complexity:confidence=80:impact=70:priority=75,\
  --basic:confidence=75:impact=65:priority=70,\
  --structure:confidence=70:impact=60:priority=65 \
  --fix=100 --auto-apply

# –®–≤–∏–¥–∫–∏–π –∞–Ω–∞–ª—ñ–∑ –æ–∫—Ä–µ–º–æ–≥–æ —Ñ–∞–π–ª—É
node src/main.js analyze ./src/main.js \
  --types=--basic:confidence=75 \
  --fix=80

# –ì–ª–∏–±–æ–∫–∏–π –∞–Ω–∞–ª—ñ–∑ –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
node src/main.js analyze ./src --types=deep:confidence=95,security:confidence=90,perf:confidence=85,complexity:confidence=80,structure:confidence=75 \
  --fix=100 --auto-apply
```

### –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Ä–µ–∂–∏–º

```sh
# –ó–∞–ø—É—Å–∫ –≤ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º—É —Ä–µ–∂–∏–º—ñ
node src/main.js --interactive

# –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π —Ä–µ–∂–∏–º –∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
node src/main.js --interactive --metrics
```

## üõ† –†–æ–∑—à–∏—Ä–µ–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### –¢–∏–ø–∏ –∞–Ω–∞–ª—ñ–∑—É

- `--basic` - –ë–∞–∑–æ–≤–∏–π –∞–Ω–∞–ª—ñ–∑ –∫–æ–¥—É
- `--security` - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–µ–∑–ø–µ–∫–∏
- `--performance` - –ê–Ω–∞–ª—ñ–∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- `--complexity` - –ê–Ω–∞–ª—ñ–∑ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ
- `--style` - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∏–ª—é –∫–æ–¥—É

### –ú–µ—Ç—Ä–∏–∫–∏ –∞–Ω–∞–ª—ñ–∑—É

```sh
# –§–æ—Ä–º–∞—Ç: --type:confidence=X:impact=Y:priority=Z
node src/main.js analyze ./src --security:confidence=90:impact=80:priority=85
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∞–Ω–∞–ª—ñ–∑—É

```bash
# –§–æ—Ä–º–∞—Ç –º–µ—Ç—Ä–∏–∫
--types=TYPE:confidence=N:impact=N:priority=N

# –î–æ—Å—Ç—É–ø–Ω—ñ —Ç–∏–ø–∏ –∞–Ω–∞–ª—ñ–∑—É
--basic        # –ë–∞–∑–æ–≤–∏–π –∞–Ω–∞–ª—ñ–∑
--security     # –ë–µ–∑–ø–µ–∫–∞
--perf         # –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
--complexity   # –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å
--structure    # –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥—É
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—å

- `--fix=N` - –ü–æ—Ä—ñ–≥ –≤–ø–µ–≤–Ω–µ–Ω–æ—Å—Ç—ñ (0-100)
- `--auto-apply` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è
- `--backup` - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π
- `--dry-run` - –¢–µ—Å—Ç–æ–≤–∏–π –ø—Ä–æ–≥—ñ–Ω –±–µ–∑ –∑–º—ñ–Ω

## üí° –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –ü–æ–≤–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –ø—Ä–æ–µ–∫—Ç—É
```sh
node src/main.js analyze ./src \
  --recursive \
  --security:confidence=90:impact=80:priority=85 \
  --performance:confidence=85:impact=75:priority=80 \
  --fix=80 \
  --auto-apply \
  --backup
```

### –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –®–≤–∏–¥–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–∞–π–ª—É
```sh
node src/main.js analyze ./src/main.js \
  --basic \
  --style \
  --fix=70
```

### –°—Ü–µ–Ω–∞—Ä—ñ–π 3: –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π –∞–Ω–∞–ª—ñ–∑
```sh
node src/main.js analyze ./src \
  --interactive \
  --metrics \
  --depth=2
```

## ‚ùó –£—Å—É–Ω–µ–Ω–Ω—è –Ω–µ—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π

### –ü–æ—à–∏—Ä–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏

1. **API Key –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ**
   ```sh
   export GEMINI_API_KEY=your_key_here
   ```

2. **–ü–æ–º–∏–ª–∫–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ —Ñ–∞–π–ª—ñ–≤**
   ```sh
   chmod +x src/main.js
   ```

3. **–ü—Ä–æ–±–ª–µ–º–∏ –∑ –ø–∞–º'—è—Ç—Ç—é**
   ```sh
   node --max-old-space-size=4096 src/main.js
   ```

### Debugging

```sh
DEBUG=true node src/main.js analyze ./src
```

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

- –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è —Ä–æ–±–∏—Ç–∏ —Ä–µ–∑–µ—Ä–≤–Ω—ñ –∫–æ–ø—ñ—ó –ø–µ—Ä–µ–¥ –º–∞—Å–æ–≤–∏–º–∏ –∑–º—ñ–Ω–∞–º–∏
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `--dry-run` –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∑–º—ñ–Ω
- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ `.gitignore` –¥–ª—è –≤–∏–∫–ª—é—á–µ–Ω–Ω—è —Ç–∏–º—á–∞—Å–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤

## üîÑ –û–Ω–æ–≤–ª–µ–Ω–Ω—è

```sh
git pull
npm install
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–∞

–î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è API –∫–ª—é—á–∞ Gemini:

1. –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```bash
echo "export GEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á" >> ~/.bashrc
source ~/.bashrc
```

2. –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª:
```bash
GEMINI_API_KEY=–≤–∞—à_–∫–ª—é—á
DEBUG=true
```

**–í–∞–∂–Ω–æ:** –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ .env —Ñ–∞–π–ª –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π!
